<app-right-panel-funnel-button
  (funnelButtonClicked)="onOpenDrawer()"
></app-right-panel-funnel-button>
<div
  class="right-panel-mask"
  [ngClass]="{ hidden: !(isDrawerOpen$ | async) }"
  (click)="onCloseDrawer()"
></div>
<div
  class="right-panel-container bg-right-panel-background"
  [ngClass]="{
    'translate-x-full': !(isDrawerOpen$ | async),
    '-translate-x-0': (isDrawerOpen$ | async),
  }"
  >
  <app-right-panel-title title="Filters" (onCloseClick)="onCloseDrawer()"></app-right-panel-title>

  <form [formGroup]="form" class="flex flex-col justify-between flex-1">
    <div class="space-y-6 text-right-panel-text">
      <div class="space-y-2">
        <h6 class="text-base font-medium">Content</h6>
        <app-two-choices-chip
          trueChipLabel="Series"
          falseChipLabel="Issues"
          (valueChange)="OnContentTypeSeries($event)"
          [value]="seriesContent"
        ></app-two-choices-chip>
      </div>

      <!-- Categories -->
      <div class="space-y-2" formGroupName="categories">
        <h6 class="text-base font-medium">Read Status</h6>
        <div class="flex items-center">
          <app-boolean-slider-form
            formControlName="marvel"
            label="Marvel"
          ></app-boolean-slider-form>
        </div>
        <div class="flex items-center">
          <app-boolean-slider-form formControlName="dc" label="DC"></app-boolean-slider-form>
        </div>
        <div class="flex items-center">
          <app-boolean-slider-form
            formControlName="other"
            label="Other-comics"
          ></app-boolean-slider-form>
        </div>
      </div>

      <!-- Read Status -->
      <div class="space-y-2" formGroupName="readStatus">
        <h6 class="text-base font-medium">Read Status</h6>
        <div class="flex items-center">
          <app-boolean-slider-form
            formControlName="notStarted"
            label="Not Started"
          ></app-boolean-slider-form>
        </div>
        <div class="flex items-center">
          <app-boolean-slider-form
            formControlName="ongoing"
            label="On going"
          ></app-boolean-slider-form>
        </div>
        <div class="flex items-center">
          <app-boolean-slider-form formControlName="read" label="Read"></app-boolean-slider-form>
        </div>
      </div>

      <!-- Year -->
      <div class="space-y-2" formGroupName="year">
        <h6 class="text-base font-medium">Year</h6>
        <div class="flex items-center justify-between col-span-2 space-x-3">
          <div class="w-full">
            <label class="block mb-2 text-sm font-medium text-generic-text" for="year-from">
              From
            </label>
            <app-digit-input-form formControlName="from"></app-digit-input-form>
          </div>
          <div class="w-full">
            <label class="block mb-2 text-sm font-medium text-generic-text" for="year-to">
              To
            </label>
            <app-digit-input-form formControlName="to"></app-digit-input-form>
          </div>
        </div>
      </div>

      <!-- Size -->
      @if (seriesContent === false) {
        <div class="space-y-2" formGroupName="size">
          <h6 class="text-base font-medium">Size (MB)</h6>
          <div class="flex items-center justify-between col-span-2 space-x-3">
            <div class="w-full">
              <label class="block mb-2 text-sm font-medium text-generic-text" for="size-from">
                From
              </label>
              <app-digit-input-form formControlName="from"></app-digit-input-form>
            </div>
            <div class="w-full">
              <label class="block mb-2 text-sm font-medium text-generic-text" for="size-to">
                To
              </label>
              <app-digit-input-form formControlName="to"></app-digit-input-form>
            </div>
          </div>
        </div>
      }

      <!-- Issues -->
      @if (seriesContent === true) {
        <div class="space-y-2" formGroupName="issues">
          <h6 class="text-base font-medium">Issues</h6>
          <div class="flex items-center justify-between col-span-2 space-x-3">
            <div class="w-full">
              <label class="block mb-2 text-sm font-medium text-generic-text" for="issues-from">
                From
              </label>
              <app-digit-input-form formControlName="from"></app-digit-input-form>
            </div>
            <div class="w-full">
              <label class="block mb-2 text-sm font-medium text-generic-text" for="issues-to">
                To
              </label>
              <app-digit-input-form formControlName="to"></app-digit-input-form>
            </div>
          </div>
        </div>
      }
    </div>
  </form>
</div>
