@if (displayDropdown && displayed) {
  <div
    class="z-10 bg-nav-menu-background border-2 border-nav-menu-section-border divide-y divide-nav-menu-section-border rounded-lg shadow-xs w-44 absolute bottom-16 right-2 text-nav-menu-button-text"
    >
    <ul class="py-2 text-sm">
      <li>
        <span (click)="markAsRead(true)" class="block px-4 py-2 hover:bg-nav-menu-button-active">
          Mark as read
        </span>
      </li>
      <li>
        <span (click)="markAsRead(false)" class="block px-4 py-2 hover:bg-nav-menu-button-active">
          Mark as not read
        </span>
      </li>
    </ul>
    <div class="py-1">
      <span (click)="download()" class="block px-4 py-2 text-sm hover:bg-nav-menu-button-active">
        Download on device
      </span>
    </div>
    <div
      class="py-1"
      appHideRoles
      [appHideForRoles]="[Role.Contributor, Role.Requester, Role.Viewer]"
      >
      <span (click)="delete()" class="block px-4 py-2 text-sm hover:bg-nav-menu-button-active">
        Delete
      </span>
    </div>
  </div>
}
@if (displayed) {
  <button
    type="button"
    (click)="toggleActivation()"
    class="button-icon-circle size-16 flex items-center justify-center"
  [ngClass]="{
    'button-primary': activated,
    'button-multiselect': !activated,
  }"
    >
    @if (!activated) {
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="size-8"
        >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"
        ></path>
      </svg>
    } @else {
      <span class="text-white font-extrabold text-2xl">
        {{ coverCardClickCollectorService.getActiveCards().length }}
      </span>
    }
  </button>
}
