<div class="max-w-full w-full">
  <div class="table-container-full overflow-x-auto rounded-lg">
    <table class="table-large">
      <thead class="table-head">
        <tr>
          <th class="px-6 py-3">Status</th>
          <th class="px-6 py-3">Type</th>
          <th class="px-6 py-3">Timestamp</th>
          <th class="px-6 py-3">Duration</th>
          <th class="px-6 py-3">Username</th>
          @if (displayDetails) {
            <th class="px-6 py-3 w-24">Details</th>
          }
        </tr>
      </thead>
      <tbody>
        @for (job of jobs; track trackJobs($index, job)) {
          <tr class="table-row">
            <th scope="row" class="px-6 py-4 font-medium whitespace-nowrap">
              <span
                class="chip"
                [class.chip-success]="job.status == 'COMPLETED'"
                [class.chip-error]="job.status == 'ERROR'"
                [class.chip-warning]="job.status == 'ON_GOING'"
                [class.chip-info]="job.status == 'INTERRUPTED'"
              >
                {{ statusLabels[job.status] }}
              </span>
            </th>
            <td scope="row" class="px-6 py-4 font-medium whitespace-nowrap">
              <span
                class="chip"
                [class.chip-success]="job.type == 'SCAN_LIB'"
                [class.chip-info]="job.type == 'DOWNLOAD' || job.type == 'DOWNLOAD_LIST'"
                [class.chip-error]="job.type == 'DELETE_LIB' || job.type == 'DELETE'"
                [class.chip-warning]="job.type == 'CLEAN_LIB'"
              >
                {{ typeLabels[job.type] }}
              </span>
            </td>
            <td scope="row" class="px-6 py-4">
              <div class="flex w-full justify-between items-center text-center">
                <span class="font-medium">
                  {{ job.timeStamp | date: 'MMM d, y, h:mm a' }}
                </span>
              </div>
            </td>
            <td scope="row" class="px-6 py-4">
              <div class="flex w-full justify-between items-center text-center">
                <span class="font-medium">{{ job.duration }}</span>
              </div>
            </td>
            <td scope="row" class="px-6 py-4">
              <div class="flex w-full justify-between items-center text-center">
                <span class="font-medium">{{ job.username }}</span>
              </div>
            </td>
            @if (displayDetails) {
              <td scope="row" class="px-6 py-4">
                <button
                  type="button"
                  (click)="gotToJobPage(job)"
                  class="button-icon button-details p-2.5"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="size-6"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"
                    ></path>
                  </svg>
                </button>
              </td>
            }
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
